{% extends 'base/user_base.html' %}
<head><title>داشبورد کاربر</title></head>

{% load staticfiles %}
{% load static %}
{% block content %}
    {% block user_header %}
        <div id="panel-header" align="center"><h2>اطلاعات کاربر</h2></div>
    {% endblock %}

    {% if messages %}
        <ul class="alert messages alert-success alert-dismissible fade show" role="alert">
            {% for message in messages %}
                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            {% endfor %}
        </ul>
    {% endif %}

    <div class="panel-group col-md-12 col-sm-12 col-lg-12">
        <div class="panel panel-info col-md-3 col-sm-12">
            <div class="panel-heading">
                <div class="text-center">
                    <img src="{{ user.socialaccount_set.all.0.get_avatar_url }}" width="250" height="250"
                         onerror="this.src='{% static "pics/default-user.jpg" %}'">
                </div>
            </div>
            {#            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" align="center"><img#}
            {#                    src={{ user.socialaccount_set.all.0.get_avatar_url }}>#}
            {#            </div>#}
            <div align="center">:Username</div>
            <div align="center" class="panel-body">{{ shopping_user.user }}</div>
            <div></div>
        </div>

        <div id="dashboard_panel" class="panel panel-info col-md-9 col-sm-12">
            <div class="panel-heading">{{ user.socialaccount_set.all.0.extra_data.name }} {{ shopping_user.first_name }} {{ shopping_user.last_name }}</div>

            <div class="row panel-body">
                <div class="col-xs-6"><input type="text" id="staticField" readonly
                                             class="form-control-plaintext form-control"
                                             placeholder="شماره تلفن"
                                             value="{{ shopping_user.phone_number }}"></div>
                <div class="col-xs-6">شماره تلفن:‌</div>
            </div>

            <div class="row panel-body">
                <div class="col-xs-6"><input type="text" id="staticField" readonly
                                             class="form-control-plaintext form-control"
                                             placeholder="ایمیل"
                                             value="{{ user.socialaccount_set.all.0.extra_data.email }} {{ shopping_user.email }}">
                </div>
                <div class="col-xs-6">ایمیل:‌</div>
            </div>
            <div class="row panel-body">
                <div class="col-xs-6"><input type="text" id="staticField" readonly
                                             class="form-control-plaintext form-control"
                                             placeholder="استان"
                                             value="{{ shopping_user.province }}"></div>
                <div class="col-xs-6">استان:‌</div>
            </div>
            <div class="row panel-body">
                <div class="col-xs-6"><input type="text" id="staticField" readonly
                                             class="form-control-plaintext form-control"
                                             placeholder="شهر"
                                             value="{{ shopping_user.city }}"></div>
                <div class="col-xs-6">شهر:‌</div>
            </div>

        </div>
    </div>

    <div style="position:absolute; margin-top: 320px; margin-right: 30px;">

        <div class="row">
            <div class="panel-group col-md-12 col-sm-12 col-lg-12">
                <div id="product_panel" class="panel panel-info col-md-9 col-sm-12">
                    <div class="panel-heading" style="width: 100%; position: absolute; top: 0px;">لیست خرید من</div>

                    {% for product in bought %}
                        <div class="col-md-2 col-xs-2" style="float: right;">
                            <div style="margin-top: 30px" class="row">
                            <div>
                                <img src="/{{ product.picture.url|slice:"5:" }}" width="60" height="60">
                            </div>
                            <div>

                                <a href="/shopping/view_product/{{ product.id }}">{{ product.name }}</a>
                            </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <div style="margin-top: 80px;"  class="row">

            <div class="panel-group col-md-12 col-sm-12 col-lg-12">
                <div id="product_panel" class="panel panel-info col-md-9 col-sm-12">
                    <div class="panel-heading" style="width: 100%; position: absolute; top: 0px;">لیست فروش من</div>

                    {% for product in for_sale %}
                        <div style="margin-top: 30px" class="row">
                            <div>
                                <img src="/{{ product.picture.url|slice:"5:" }}" width="60" height="60">
                            </div>
                            <div>
                                <a href="/shopping/view_product/{{ product.id }}">{{ product.name }}</a>
                            </div>

                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>


{#    <div id="all_products_modal" class="modal">#}
{##}
{#        <div class="modal-content">#}
{#            <div class="modal-header">#}
{#                <span class="close">&times;</span>#}
{#                <h2 align="center">تمامی اجناس</h2>#}
{#            </div>#}
{#            <div class="modal-body">#}
{##}
{#                {% for product in all_products %}#}
{#                    <div class="row">#}
{#                        <div class="col-md-4">#}
{#                            <a href="/shopping/view_product/{{ product.id }}">مشاهده</a>#}
{#                        </div>#}
{#                        <div class="col-md-4">#}
{#                            {{ product.name }}#}
{#                        </div>#}
{#                        <div class="col-md-4">#}
{#                            <img src="/{{ product.picture.url|slice:"5:" }}" width="50" height="50">#}
{#                        </div>#}
{#                    </div>#}
{#                {% endfor %}#}
{#            </div>#}
            {#            <div class="modal-footer">#}
            {#                <h3>Modal Footer</h3>#}
            {#            </div>#}
{#        </div>#}
{##}
{#    </div>#}

    {#    <div id="my_bought_products_modal" class="modal">#}
    {##}
    {#        <div class="modal-content">#}
    {#            <div class="modal-header">#}
    {#                <span class="close">&times;</span>#}
    {#                <h2 align="center">لیست فروش من</h2>#}
    {#            </div>#}
    {#            <div class="modal-body">#}
    {#                {% for product in for_sale %}#}
    {#                    <div class="row">#}
    {##}
    {#                        <div class="col-md-4">#}
    {#                            <a href="/shopping/view_product/{{ product.id }}">مشاهده</a>#}
    {#                        </div>#}
    {#                        <div class="col-md-4">#}
    {#                            {{ product.name }}#}
    {#                        </div>#}
    {#                        <div class="col-md-4">#}
    {#                            <img src="{{ product.picture }}" width="50" height="50">#}
    {#                        </div>#}
    {#                    </div>#}
    {#                {% endfor %}#}
    {#            </div>#}
    {#            <div class="modal-footer">#}
    {#                <h3>Modal Footer</h3>#}
    {#            </div>#}
    {#        </div>#}
    {##}
    {#    </div>#}


    {#    <div class="scrollmenu">#}


    {#    <div id="my_sold_products_modal" class="modal">#}
    {##}
    {#        <div class="modal-content">#}
    {#            <div class="modal-header">#}
    {#                <span class="close">&times;</span>#}
    {#                <h2 align="center">لیست خرید من</h2>#}
    {#            </div>#}
    {#            <div class="modal-body">#}
    {##}
    {#                {% for product in bought %}#}
    {#                    <div class="row">#}
    {##}
    {#                        <div class="col-md-4">#}
    {#                            <a href="/shopping/view_product/{{ product.id }}">مشاهده</a>#}
    {#                        </div>#}
    {#                        <div class="col-md-4">#}
    {#                            {{ product.name }}#}
    {#                        </div>#}
    {#                        <div class="col-md-4">#}
    {#                            <img src="{{ product.picture }}" width="50" height="50">#}
    {#                        </div>#}
    {#                    </div>#}
    {#                {% endfor %}#}
    {#            </div>#}
    {#            <div class="modal-footer">#}
    {#                <h3>Modal Footer</h3>#}
    {#            </div>#}
    {#        </div>#}
    {##}
    {#    </div>#}

{#    <script>#}
{#        // Get the modal#}
{#        let all_products_modal = document.getElementById('all_products_modal');#}
        {#let my_bought_products_modal = document.getElementById('my_bought_products_modal');#}
        {#let my_sold_products_modal = document.getElementById('my_sold_products_modal');#}
{##}
{#        // Get the button that opens the modal#}
{#        let all_btn = document.getElementById("all_products_btn");#}
        {#let bought_btn = document.getElementById("bought_products_btn");#}
        {#let sold_btn = document.getElementById("sold_products_btn");#}
{##}
{#        // Get the <span> element that closes the modal#}
{#        let span_all_products = document.getElementsByClassName("close")[0];#}
{##}
{#        // When the user clicks the button, open the modal#}
{#        all_btn.onclick = function () {#}
{#            all_products_modal.style.display = "block";#}
{#        }#}
{##}
        {#bought_btn.onclick = function () {#}
        {#my_bought_products_modal.style.display = "block";#}
        {#}#}
            {##}
            {#sold_btn.onclick = function () {#}
            {#    my_sold_products_modal.style.display = "block";#}
            {#}#}
                {##}
                {#// When the user clicks on <span> (x), close the modal#}
{#                span_all_products.onclick = function () {#}
{#                    all_products_modal.style.display = "none";#}
{#                }#}
{##}
{#                // When the user clicks anywhere outside of the modal, close it#}
{#                window.onclick = function (event) {#}
{#                    if (event.target == all_products_modal) {#}
{#                        all_products_modal.style.display = "none";#}
{#                    }#}
{#                }#}
{#    </script>#}

{% endblock %}